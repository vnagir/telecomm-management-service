# telecomm-management-service
### This service provides capability of allocating the calls to a network based on the brand/model provider. 

This repository contains below componants
```
Configuration service(Task C)
Service Registry
Inventory manager(Task A)
Traffic Analyzer(Task B)
service-gateway
```
Traffic analyzer resides at the cell towers and will be looking for config from configserver, which have a file residing in remote location(app-config.properties)

Configuration services and Inventory Manger service will be running on saas.(For the purpose of this assignment, these can be local environment) 

The service gateway will provide an entry point for Traffic analyzer to get filter configuration as well as the list of active towers available.

![image](https://user-images.githubusercontent.com/42976090/118928520-f36fcf00-b908-11eb-91c9-e0f4c98190b5.png)


****Towers has below properties
- id(Autogenerated)(long)
- location(String)
- provider(String)
- geoLocation(Longiturde and lattitude)(double)
- craeted_date(Epoch time)(long)
- uniqueId(String) - This is delmited string formed with combination of geoLocation + "|" + provider

**Example**
{"id":2,"provider":"att","location":"Dallas","geoLocation":1.231234232E9,"created_date":1621489380730,"uniqueId":"1.231234232E9|att","active":true},

## Inventory manager service
This servicve exposes four end points which can be used to insert new tower information or update existing 
**End points**
- /Update - Insert/update towers
- /tower/{id} - This resource can be used to getch a specifi tower information
- /tower-get-all   - This resource can be used to acccess all towers available
- tower/{status}  - This resource can be used to fetch only active(UP) or only in-active(DOWN) towers in the area.

**Note:**: All the data about Towers is save in an in-memory h2 database table

**Assmuptions:**
- Firewall will have ports open for confguration service to provide filter configuraiton to Traffic analyser service.
- All saas applications behind the gateway service will be load balanced
- Since running in local, no need for Kubernetes/DOcker autoscaling setup.


## Traffic Analyzer
This service will be used to filter the network calls from cellphones based on their provider.
Filter confguration will be provided by config server. Config file is availabe in the config directory

**Properties used in config**
- allow.device.ios=3,4,5,6
- block.device.ios=6
- allow.device.android=1,2
- block.device.android=8,9,10

These properties are read duringt he run time and any updates to these properties shall trigger the service to load the towers accordingly. 

**End points**
- /towers - This end point can be used to load all the available towers to process the allow/deny filters for listing.


  



